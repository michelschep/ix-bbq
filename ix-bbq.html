<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../byutv-jsonp/byutv-jsonp.html" />

<dom-module id="ix-bbq">
  <template>
    <h1>go</h1>
    <byutv-jsonp auto url="http://api.ishetvandaagbarbecueweer.nl/json.php"
    handle-as="json" last-response="{{answer1}}" debounce-duration="300"></byutv-jsonp>
    <h1>answer</h1>
    <p>[[answer1.data.ishetvandaagbarbecueweer]]</p>
  </template>

</dom-module>

<script>
  Polymer({

    is: 'ix-bbq',

    properties: {
      // answer1: {
      //   type: Object,
      // },
      answer: {
        type: String,
        //computed: 'computeAnswer(answer1)',
        value: function() {
          return "default"
        },
        notify: true
      }
    },

    observers: [
      '_lastResponseChanged(answer1)'
    ],

    _lastResponseChanged: function(answer2) {
      console.log('set answer', answer2);
      this.set('answer', answer2.data.ishetvandaagbarbecueweer);
      console.log('answer!', this.answer);
    }

    // computeAnswer: function(answer2) {
    //   console.log(answer2.data.ishetvandaagbarbecueweer);
    //   return answer2.data.ishetvandaagbarbecueweer;
    // }
  });
</script>
