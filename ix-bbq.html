<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../byutv-jsonp/byutv-jsonp.html" />

<dom-module id="ix-bbq">
  <template>
    <byutv-jsonp auto url="http://api.ishetvandaagbarbecueweer.nl/json.php"
    handle-as="json" last-response="{{response}}" debounce-duration="300"></byutv-jsonp>
  </template>
</dom-module>

<script>
  Polymer({

    is: 'ix-bbq',

    properties: {
      answer: {
        type: String,
        value: function() {
          return "onbekend"
        },
        notify: true
      },

      debug: {
        type: Boolean
      }
    },

    observers: [
      '_lastResponseChanged(response)'
    ],

    _lastResponseChanged: function(response) {
      if (this.debug)
        console.log('response is: ',response);

      this.set('answer', response.data.ishetvandaagbarbecueweer);
    }
  });
</script>
